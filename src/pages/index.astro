---
import Layout from '../layouts/Layout.astro';
import SearchClient from '../components/SearchClient';
import { getAllSrefs, buildSearchIndex } from '../lib/srefs';

const srefs = await getAllSrefs();
const searchIndex = buildSearchIndex(srefs);
---

<Layout title="Midjourney Sref Gallery">
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-gray-900 mb-4">Style Reference Gallery</h1>
    <p class="text-lg text-gray-600">
      Browse and search Midjourney style references. Click on any sref to see more examples and copy the code.
    </p>
  </div>

  <SearchClient client:load items={searchIndex} />
</Layout>