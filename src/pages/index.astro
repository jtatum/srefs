---
import Layout from '../layouts/Layout.astro';
import SearchClient from '../components/SearchClient';
import { getAllSrefs, buildSearchIndex } from '../lib/srefs';

const srefs = await getAllSrefs();
const searchIndex = buildSearchIndex(srefs);
---

<Layout title="Midjourney Sref Gallery">
  <!-- Hero Section -->
  <div class="relative mb-16 text-center">
    <div class="mb-8">
      <div class="relative inline-block">
        <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-[1.05] tracking-tight">
          <span class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 dark:from-indigo-300 dark:via-purple-300 dark:to-pink-300 bg-clip-text text-transparent block drop-shadow-[0_1px_6px_rgba(0,0,0,0.35)]">Style Reference</span>
          <span class="bg-gradient-to-r from-sky-500 via-cyan-500 to-emerald-500 dark:from-sky-300 dark:via-cyan-300 dark:to-emerald-300 bg-clip-text text-transparent block drop-shadow-[0_1px_6px_rgba(0,0,0,0.35)]">Gallery</span>
        </h1>
      </div>
      <div class="max-w-2xl mx-auto">
        <p class="text-xl text-gray-700 dark:text-gray-300 leading-relaxed mb-8">
          Discover, browse, and collect 
          <span class="font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
            Midjourney style references
          </span>. 
          Each sref unlocks unique artistic possibilities for your AI creations.
        </p>
        <div class="flex items-center justify-center gap-3">
          <a href="#explore" class="btn transition shadow-md hover:shadow-lg hover:-translate-y-0.5 dark:!bg-slate-900/90 dark:!text-slate-200 dark:!border-white/30 dark:hover:!bg-slate-900/95 dark:hover:!text-slate-100 dark:hover:ring-2 dark:hover:ring-indigo-400/60 dark:hover:ring-offset-2 dark:hover:ring-offset-slate-950 dark:hover:drop-shadow-[0_0_16px_rgba(99,102,241,0.28)]">Explore gallery</a>
          <a href={import.meta.env.BASE_URL + 'about'} class="inline-flex items-center text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline">Learn more</a>
        </div>
      </div>
    </div>
    
    <!-- Decorative Elements -->
    <div class="absolute top-4 left-4 w-20 h-20 bg-gradient-to-br from-indigo-400/20 to-purple-400/20 rounded-full blur-xl"></div>
    <div class="absolute top-16 right-8 w-32 h-32 bg-gradient-to-br from-pink-400/20 to-orange-400/20 rounded-full blur-xl"></div>
    <div class="absolute bottom-8 left-1/3 w-24 h-24 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full blur-xl"></div>
  </div>

  <div id="explore"></div>
  <SearchClient client:idle items={searchIndex} />
</Layout>
